<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="@brief Allocates and initializes a new Rego Input object. @details Rego Input objects can be used to build input documents programmatically. An input is built up by making a series of calls to the API to add values to the stack. Some operations use the values on the stack to create composite values (e.g. objects, arrays, sets) which are then pushed back onto the stack. Once the input is built, it can be validated and then set on the interpreter with regoSetInput. While you can test the result of every operation, you can continue to use a broken Input object and the error will be returned when you call regoInputValidate."><title>regoNewInput in regorust - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c5d6553a23f1e5a6.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="regorust" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0 (eeb90cda1 2024-09-04)" data-channel="1.81.0" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../regorust/index.html">regorust</a><span class="version">1.0.0</span></h2></div><div class="sidebar-elems"></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">regorust</a>::<wbr><a class="fn" href="#">regoNewInput</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/regorust/Source\rego-cpp\wrappers\rust\regorust\target\debug\build\regorust-5a06ae09e2cb8f45\out/bindings.rs.html#432">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn regoNewInput() -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.81.0/std/primitive.pointer.html">*mut </a><a class="type" href="type.regoInput.html" title="type regorust::regoInput">regoInput</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>@brief Allocates and initializes a new Rego Input object.
@details
Rego Input objects can be used to build input documents programmatically.
An input is built up by making a series of calls to the API to add
values to the stack. Some operations use the values on the stack to
create composite values (e.g. objects, arrays, sets) which are then
pushed back onto the stack. Once the input is built, it can be validated
and then set on the interpreter with regoSetInput. While you can test the
result of every operation, you can continue to use a broken Input object
and the error will be returned when you call regoInputValidate.</p>
<div class="example-wrap"><pre class="language-c"><code>// Example of building the following input document:
// {
//   &quot;user&quot;: {
//     &quot;name&quot;: &quot;alice&quot;,
//     &quot;age&quot;: 30,
//     &quot;active&quot;: true
//   },
//   &quot;roles&quot;: [&quot;admin&quot;, &quot;user&quot;]
// }
regoInput* input = regoNewInput();
regoInputString(input, &quot;user&quot;);     // Push &quot;user&quot;
regoInputString(input, &quot;name&quot;);     // Push &quot;name&quot;
regoInputString(input, &quot;alice&quot;);    // Push &quot;alice&quot;
regoInputObjectItem(input);         // Create {&quot;name&quot;: &quot;alice&quot;}
regoInputString(input, &quot;age&quot;);      // Push &quot;age&quot;
regoInputInt(input, 30);            // Push 30
regoInputObjectItem(input);         // Create {&quot;age&quot;: 30}
regoInputString(input, &quot;active&quot;);   // Push &quot;active&quot;
regoInputBoolean(input, true);      // Push true
regoInputObjectItem(input);         // Create {&quot;active&quot;: true}
regoInputObject(input, 3);          // Create {&quot;name&quot;: &quot;alice&quot;, &quot;age&quot;: 30, &quot;active&quot;: true}
regoInputObjectItem(input);         // Create {&quot;user&quot;: {...}}
regoInputString(input, &quot;roles&quot;);    // Push &quot;roles&quot;
regoInputString(input, &quot;admin&quot;);    // Push &quot;admin&quot;
regoInputString(input, &quot;user&quot;);     // Push &quot;user&quot;
regoInputArray(input, 2);           // Create [&quot;admin&quot;, &quot;user&quot;]
regoInputObjectItem(input);         // Create {&quot;roles&quot;: [...]}
regoInputObject(input, 2);          // Create the final object
regoInputValidate(input);           // Validate the input
regoSetInput(rego, input);          // Set the input on the interpreter
</code></pre></div>
<p>@note The caller is responsible for freeing the input object with
regoFreeInput.
@return A pointer to the new input object.</p>
</div></details></section></div></main></body></html>